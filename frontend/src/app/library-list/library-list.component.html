<div>
	<h2>Library Items</h2>

	<a [routerLink]="['/create-library-item']" class="create-link">Create New Library Item</a>

	<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
	<ul>
		<li *ngFor="let item of libraryItems" class="library-item">
			<h3>{{ item.title }}</h3>
			<p><strong>Author:</strong> {{ item.author || 'Unknown' }}</p>
			<p><strong>Published Date:</strong> {{ item.publishedDate | date:'longDate' }}</p>
			<p><strong>Genre:</strong> {{ item.genre }}</p>
			<p><strong>Type:</strong> {{ item.type }}</p>
			<p><strong>Copies Available:</strong> {{ item.copiesAvailable }}</p>
			<small class="metadata">
				Created At: {{ item.createdAt | date:'short' }} |
				Updated At: {{ item.updatedAt | date:'short' }}
			</small>
			<button [disabled]="!item.id || isItemBorrowed(item.id) || item.copiesAvailable === 0"
				(click)="item.id && borrowItem(item.id)" class="borrow-button">
				Borrow
			</button>

		</li>
	</ul>
</div>